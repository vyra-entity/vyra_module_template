# =============================================================================
# VYRA Environment Configuration
# =============================================================================
# This file configures the VYRA module for different operating
# modes and service activations.
#
# Important modes:
# - Development: VYRA_DEV_MODE=true  ‚Üí Vue Dev Server + Hot-Reload
# - Production:  VYRA_DEV_MODE=false ‚Üí Nginx + optimized static files
# =============================================================================

# -----------------------------------------------------------------------------
# üöÄ Module Basic Configuration
# -----------------------------------------------------------------------------

# Automatic startup when container starts
# true  = Starts automatically with the container (includes Supervisor services)
# false = Manual start via ROS2 Launch required
VYRA_STARTUP_ACTIVE=true

# Module name - used for dynamic WSGI loading
# Important: Must match the actual module name!
MODULE_NAME=vyra_module_template

# -----------------------------------------------------------------------------
# üîß Development vs Production Mode
# -----------------------------------------------------------------------------

# Enable Development Mode
# true  = Vite Dev Server with Hot-Reload (Port 3000, proxies to Backend :8443)
#         ‚Üí Requires Node.js/npm (installed in full-development image)
#         ‚Üí Nginx is automatically disabled
#         ‚Üí Frontend served via Vite with HMR
# false = Production mode with Nginx serving static files (Port 3000)
#         ‚Üí Pre-built frontend from /workspace/frontend/dist
VYRA_DEV_MODE=true

# Slim Module Mode (no ROS2)
# true  = Uses slim base image without ROS2 (Redis/UDS transport only)
# false = Uses full base image with ROS2 support (default)
# ‚ö†Ô∏è Note: Set to false if your module requires ROS2 services/topics
VYRA_SLIM=false

# Module Image Configuration
# Development: vyra_base_image:dev (uses mounted source code)
# Production: ghcr.io/variobotic-gmbh/vyra_module_template:latest

# MODULE_IMAGE=ghcr.io/variobotic-gmbh/vyra_module_template:latest
MODULE_IMAGE=vyra_base_image:developement

# Development File Watch Directory for Backend Hot-Reload
# Defines which directory Uvicorn should watch for changes
# Only used when VYRA_DEV_MODE=true
BACKEND_DEV_FILEWATCH=/workspace/src/rest_api

# ROS2 Hot Reload for automatic rebuild and restart
# true  = Watches src/ folder and rebuilds ROS2 packages on changes
# false = No automatic rebuild (manual colcon build required)
# Only used when VYRA_DEV_MODE=true
ENABLE_ROS2_HOT_RELOAD=true

# -----------------------------------------------------------------------------
# üîê ROS2 Security Configuration
# -----------------------------------------------------------------------------

# Enable SROS2 (Secure ROS2) for encrypted communication
# true  = Enables SROS2 security (requires keystore)
# false = Disables security (only for testing/debugging)
ROS_SECURITY_ENABLE=true

# ROS2 Security Enclave for secure communication
# Defines the security context for ROS2 messages
ROS_SECURITY_ENCLAVE="/vyra_module_template/core"

# -----------------------------------------------------------------------------
# üåê Service Activation (Supervisord-controlled)
# -----------------------------------------------------------------------------

# Frontend Web Server (Nginx)
# true  = Nginx starts automatically and serves static files
# false = Nginx remains disabled
# Note: Automatically disabled when VYRA_DEV_MODE=true
ENABLE_FRONTEND_WEBSERVER=true

# Backend API Server (Uvicorn/ASGI)
# true  = Uvicorn ASGI server starts automatically (Port 8443)
# false = Backend remains disabled
# Note: Should almost always be true as API is needed for Vue Dev Server
# Supports async operations via ASGI
ENABLE_BACKEND_WEBSERVER=true

# =============================================================================
# üìã Service Overview by Configuration:
#
# VYRA_DEV_MODE=true (Development):
# ‚îú‚îÄ‚îÄ Frontend: Vue Dev Server (application.py managed)
# ‚îú‚îÄ‚îÄ Backend:  Gunicorn API (supervisord managed)
# ‚îî‚îÄ‚îÄ ROS2:     Daemon for backend communication
#
# VYRA_DEV_MODE=false (Production):
# ‚îú‚îÄ‚îÄ Frontend: Nginx Static Files (supervisord managed)
# ‚îú‚îÄ‚îÄ Backend:  Gunicorn API (supervisord managed)
# ‚îî‚îÄ‚îÄ ROS2:     Daemon for backend communication
#
# Ports:
# - Frontend: http://localhost:3000
# - Backend:  https://localhost:8443
# =============================================================================RCL_LOGGING_LOG_FILE_NAME=v2_modulemanager_ros2_core.log
RCL_LOGGING_LOG_FILE_NAME=vyra_module_template_ros2_core.log
